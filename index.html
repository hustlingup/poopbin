<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PoopBin.click</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="./src/style.css" />
</head>

<body>
  <div id="app">
    <nav id="navbar">
      <div class="nav-title">POOPBIN</div>
      <div class="nav-buttons">
        <button id="btn-cloud" class="icon-btn" title="Cloud Skin">
          <img src="/icons/cloud.png" alt="Cloud" />
        </button>
        <button id="btn-stats" class="icon-btn" title="Statistics">
          <img src="/icons/stats.png" alt="Stats" />
        </button>
        <button id="btn-rocket" class="icon-btn" title="Space Journey">
          <img src="/icons/rocket.png" alt="Rocket" />
        </button>
        <button id="btn-info" class="icon-btn" title="Info">
          <img src="/icons/info.png" alt="Info" />
        </button>
        <button id="btn-youtube" class="icon-btn" title="YouTube">
          <img src="/icons/youtube.png" alt="YouTube" />
        </button>
      </div>
    </nav>

    <div id="canvas-container"></div>

    <div id="ui-layer">
      <div id="local-counter" class="counter">0</div>

      <button id="dump-btn">
        <span class="btn-text">감정 배설</span>
      </button>

      <div id="global-counter-container">
        국가 총 배설: <span id="global-counter">Loading...</span>
      </div>
    </div>

    <div id="particle-container"></div>

    <!-- Gooey Filter -->
    <svg style="position: absolute; width: 0; height: 0; pointer-events: none;">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur" />
          <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo" />
          <feComposite in="SourceGraphic" in2="goo" operator="atop" />
        </filter>
      </defs>
    </svg>
  </div>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registered: ', registration);
          })
          .catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }
  </script>
  <script type="module" src="./src/main.js"></script>
</body>

</html>